---
title: Craft Freeform 3.x - HubSpot CRM Integration
prev: false
next: false
---

<meta property="og:image" content="https://docs.solspace.com/extras/social/craft/freeform/freeform.png" />

::: version /craft/freeform/v5/integrations/hubspot/
Freeform
:::

<div id="pr-heading">
    <img src="https://docs.solspace.com/extras/icons/products/freeform-icon.png" alt="Freeform" class="pr-image">
    <span class="pr-name">Freeform</span>
    <span class="pr-category">for Craft</span>
    <div class="pr-v-wrapper">
        <div class="pr-v">
            <span class="pr-v-v">3.x</span>
            <span class="pr-v-type pr-retired">Retired</span>
            <span class="pr-v-arrow arrow down"></span>
        </div>
        <ul class="pr-v-list">
            <li><a href="/craft/freeform/v5/">5.x<span class="pr-v-type pr-latest">âœ“ Latest</span></a></li>
            <li><a href="/craft/freeform/v4/">4.x</a></li>
            <li><a href="/craft/freeform/v3/">3.x<span class="pr-v-type pr-retired">Retired</span></a></li>
            <li><a href="/craft/freeform/v2/">2.x<span class="pr-v-type pr-retired">Retired</span></a></li>
            <li><a href="/craft/freeform/v1/">1.x<span class="pr-v-type pr-retired">Retired</span></a></li>
        </ul>
    </div>
    <div class="pr-buy">
        <a href="https://plugins.craftcms.com/freeform" class="button button-blue"><span class="external-url">Plugin Store</span></a>
    </div>
</div>

<span class="page-section">Integrations</span>

# HubSpot CRM Integration <Badge type="feature" text="Revised 3.13.18+" /> <Badge type="pro" text="Pro" />

::: tip
If you're using the old *Legacy API Key* version of the HubSpot integration, be sure to switch to this updated integration before. November 30, 2022. After that date, API calls made with the old API keys on or after November 30, 2022 will return 401 errors.

For existing HubSpot users (set up before 3.13.18), please see the [special update instructions](#_2022-private-key-update-instructions).
:::

This documentation page assumes you have read over the [CRM Integration Overview page](README.md). If you have not yet read it, please do so now. We also assume that you have a [HubSpot](http://hubspot.com) account already. This integration requires that you have *Freeform Pro*. If you currently have Freeform Lite, you can purchase an upgrade to Freeform Pro.

::: warning
Please note this is a complete integration between Freeform and HubSpot and should NOT be used along with [HubSpot's "Collected Forms" javascript-based feature](https://knowledge.hubspot.com/forms/use-non-hubspot-forms). Otherwise, you may observe unintended behavior.
:::


[[toc]]



<div class="content-block">

## Compatibility

HubSpot integration includes support for field mapping to standard and custom fields from all 3 endpoints listed below (of text/number string type only). It maps data to [Deals](http://developers.hubspot.com/docs/methods/deals/deals_overview) (optional), [Contacts](http://developers.hubspot.com/docs/methods/contacts/contacts-overview) and [Companies](http://developers.hubspot.com/docs/methods/companies/companies-overview) API endpoints.

</div>
<div class="content-block">

## Duplicate Check & Update <Badge type="feature" text="3.2.4+" />

A duplicate check on records is done in the following way:

1. Check whether the *Contact* already exists:
    - Check against **Email address** as the identifier.
    - If there's a match, update the *Contact* with new values, where supplied.
    - If no match, create a new HubSpot *Contact*.
2. Check whether the *Company* already exists:
    - Check against **Company domain name**, which is automatically generated by HubSpot from the *Contact* email address domain name.
    - If there's a match, update the *Company* with new values, where supplied.
    - If no match, create a new HubSpot *Company*.
    - If a new *Contact* was created, link the contact to the *Company*.
3. Create new *Deal*.
    - Attach the *Deal* to existing or newly created HubSpot *Company* and *Contact*.

</div>
<div class="content-block">

## Setup Instructions

<div class="step">
<label for="step1"><input type="checkbox" class="step-check" id="step1">

### Create & get Private App token from HubSpot

</label>

- Go to [HubSpot](http://hubspot.com) and log into your account.
- At the top right corner, click on the profile icon and select **Profile & Preferences**.
- Click on the **Integrations** left navigation item, and then click on **Private Apps**.
- Click the **Create a Private App** button.
- In the next page, update the name and other information for the app as you wish.
- Click on the **Scopes** tab at the top.
- Then click on the **CRM** scope category and select _Write_ and _Read_ for:
    - `crm.objects.companies`
    - `crm.objects.contacts`
    - `crm.objects.deals`
- Click the orange **Create app** button at the top right corner of the page.
- When the modal loads with the private app token, copy that newly created token.

</div>

<div class="step">
<label for="step2"><input type="checkbox" class="step-check" id="step2">

### Set up Integration on your site

</label>

- Go to the [CRM section in Freeform Settings](../../setup/settings.md#crm) (**Freeform > Settings > CRM**).
- Click the **New CRM Integration** at the top right.
- Select *HubSpot (v1)* from the **Service Provider** select dropdown.
- Enter a name and handle for the integration.
- Paste the HubSpot Private App token into the **Private App Token** field in Freeform.
- Additional configuration:
    - **IP Address Field** (optional)
        - If you want to have the user's IP address sent over to the Contact in HubSpot, you can specify the custom HubSpot Contact field handle to receive it.
    - **Append checkbox group field values on Contact update?** <Badge type="feature" text="3.2.4+" />
        - If a Contact already exists in HubSpot, enabling this will append additional checkbox group field values to the Contact inside HubSpot, instead of overwriting the options.
    - **Append checkbox group field values on Company update?** <Badge type="feature" text="3.2.4+" />
        - If a Company already exists in HubSpot, enabling this will append additional checkbox group field values to the Company inside HubSpot, instead of overwriting the options.
- At the top right corner of Freeform page, click **Save** button.

</div>

<div class="step">
<label for="step3"><input type="checkbox" class="step-check" id="step3">

### Verify Authorization

</label>

- After the integration is saved, it'll return you to the list of CRM integrations.
- Click into the newly created integration.
- Confirm that there is green circle with **Authorized** in the middle of the page.

</div>

<div class="step-finished">Finished!</div>

</div>
<div class="content-block">

## 2022 Private Key Update Instructions

On June 1, 2022, [HubSpot announced that the API Key approach for integrations would be retired](https://developers.hubspot.com/changelog/upcoming-api-key-sunset) on November 30, 2022 in favor of the [Private App approach](https://developers.hubspot.com/docs/api/private-apps). This is a change that will break existing integrations, and requires an update to Freeform in order to fix the connection. API calls made with API keys on or after November 30, 2022 will return 401 errors.

On August 23, 2022, we released Freeform 3.13.18 to address this. For any existing users of this integration (set up before 4.0.1 or 3.13.18), please follow the below instructions to upgrade your connection:

1. Update to Freeform 4.0.1 or greater.
2. Go to the [CRM section in Freeform Settings](../../setup/settings.md#crm) (**Freeform > Settings > CRM**) and create a new integration.
3. Follow the steps above in the [Setup Instructions](#setup-instructions).
4. Open up all forms using HubSpot and update the integration to be the new HubSpot one you just created (and reapply mapping table).
5. Test out your form(s) to ensure things are still working smoothly.
6. Remove the old legacy HubSpot integration.

</div>