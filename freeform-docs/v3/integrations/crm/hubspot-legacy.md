---
title: Craft Freeform 3.x - HubSpot CRM Integration
prev: false
next: false
---

<meta property="og:image" content="https://docs.solspace.com/extras/social/craft/freeform/freeform.png" />

::: version /craft/freeform/v5/integrations/hubspot/
Freeform
:::

<div id="pr-heading">
    <img src="https://docs.solspace.com/extras/icons/products/freeform-icon.png" alt="Freeform" class="pr-image">
    <span class="pr-name">Freeform</span>
    <span class="pr-category">for Craft</span>
    <div class="pr-v-wrapper">
        <div class="pr-v">
            <span class="pr-v-v">3.x</span>
            <span class="pr-v-type pr-retired">Retired</span>
            <span class="pr-v-arrow arrow down"></span>
        </div>
        <ul class="pr-v-list">
            <li><a href="/craft/freeform/v5/">5.x<span class="pr-v-type pr-latest">âœ“ Latest</span></a></li>
            <li><a href="/craft/freeform/v4/">4.x</a></li>
            <li><a href="/craft/freeform/v3/">3.x<span class="pr-v-type pr-retired">Retired</span></a></li>
            <li><a href="/craft/freeform/v2/">2.x<span class="pr-v-type pr-retired">Retired</span></a></li>
            <li><a href="/craft/freeform/v1/">1.x<span class="pr-v-type pr-retired">Retired</span></a></li>
        </ul>
    </div>
    <div class="pr-buy">
        <a href="https://plugins.craftcms.com/freeform" class="button button-blue"><span class="external-url">Plugin Store</span></a>
    </div>
</div>

<span class="page-section">Integrations</span>

# HubSpot (Legacy) CRM Integration <Badge type="pro" text="Pro" />

::: tip
This documentation page is for the *Legacy API Key* version of the HubSpot integration.
[Click here if you're looking for the *New Private Key* version](hubspot.md)
:::

::: warning
On June 1, 2022, [HubSpot announced that the API Key approach for integrations would be retired](https://developers.hubspot.com/changelog/upcoming-api-key-sunset) on November 30, 2022 in favor of the [Private App approach](https://developers.hubspot.com/docs/api/private-apps). This is a change that will break existing integrations, and requires an update to Freeform in order to fix the connection. API calls made with API keys on or after November 30, 2022 will return 401 errors.

For existing HubSpot users (set up before 3.13.18), please see the [special update instructions](hubspot.md#_2022-private-key-update-instructions).
:::

This documentation page assumes you have read over the [CRM Integration Overview page](README.md). If you have not yet read it, please do so now. We also assume that you have a [HubSpot](http://hubspot.com) account already. This integration requires that you have *Freeform Pro*. If you currently have Freeform Lite, you can purchase an upgrade to Freeform Pro.


[[toc]]


## Field Compatibility

HubSpot integration includes support for field mapping to standard and custom fields from all 3 endpoints listed below (of text/number string type only). It maps data to [Deals](http://developers.hubspot.com/docs/methods/deals/deals_overview) (optional), [Contacts](http://developers.hubspot.com/docs/methods/contacts/contacts-overview) and [Companies](http://developers.hubspot.com/docs/methods/companies/companies-overview) API endpoints.


## Duplicate Check & Update

A duplicate check on records is done in the following way:

1. Check whether the *Contact* already exists:
	* Check against **Email address** as the identifier.
	* If there's a match, update the *Contact* with new values, where supplied.
	* If no match, create a new HubSpot *Contact*.
2. Check whether the *Company* already exists:
	* Check against **Company domain name**, which is automatically generated by HubSpot from the *Contact* email address domain name.
	* If there's a match, update the *Company* with new values, where supplied.
	* If no match, create a new HubSpot *Company*.
	* If a new *Contact* was created, link the contact to the *Company*.
3. Create new *Deal*.
	* Attach the *Deal* to existing or newly created HubSpot *Company* and *Contact*.


## Setup Instructions

1. Create & get API Key from HubSpot:
	* Go to [HubSpot](http://hubspot.com) and log into your account.
	* At the top right corner, click on the profile icon and select **Integrations**.
	* On the next page, click the **Get your HubSpot API Key** link at the bottom left.
	* Click the **Generate New Key** button in the middle of the page.
	* After the page reloads, copy the newly created key.
2. Setup Integration on your site:
	* Go to the [CRM section in Freeform Settings](../../setup/settings.md#crm) (**Freeform > Settings > CRM**).
	* Click the **New CRM Integration** at the top right.
	* Select *HubSpot (Legacy)* from the **Service Provider** select dropdown.
	* Enter a name and handle for the integration.
	* Paste the HubSpot API key into the **API Key** field in Freeform.
	* Additional configuration:
		* **IP Address Field** (optional)
			* If you want to have the user's IP address sent over to the Contact in HubSpot, you can specify the custom HubSpot Contact field handle to receive it.
		* **Append checkbox group field values on Contact update?**
			* If a Contact already exists in HubSpot, enabling this will append additional checkbox group field values to the Contact inside HubSpot, instead of overwriting the options.
		* **Append checkbox group field values on Company update?**
			* If a Company already exists in HubSpot, enabling this will append additional checkbox group field values to the Company inside HubSpot, instead of overwriting the options.
	* At the top right corner of Freeform page, click **Save** button.
3. Verify Authorization:
	* After the integration is saved, it'll return you to the list of CRM integrations.
	* Click into the newly created integration.
	* Confirm that there is green circle with **Authorized** in the middle of the page.
	* That's it! You can now use this integration inside the Form Builder.